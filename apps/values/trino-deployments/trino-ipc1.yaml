# Trino instance configuration for trino-ipc1
trinoDeployment:
  name: trino-ipc1
  description: Trino instance trino-ipc1

# Kubernetes cluster where this instance will be deployed
cluster:
  name: ipc-cluster-1
  server: https://kubernetes.default.svc

# Git repository configuration
git:
  repoURL: https://github.com/your-org/your-repo.git
  targetRevision: HEAD
  
# AppProject configuration
appProject:
  name: trino-ipc1
  description: AppProject for Trino instance trino-ipc1
  sourceRepos:
    - '*'
  destinations:
    - namespace: trino-ipc1
      server: https://kubernetes.default.svc
    - namespace: vault
      server: https://kubernetes.default.svc
  clusterResourceWhitelist:
    - group: '*'
      kind: '*'
  namespaceResourceWhitelist:
    - group: '*'
      kind: '*'
  orphanedResources:
    warn: true

# Application configurations
applications:
  trino:
    enabled: true
    namespace: trino-ipc1
    chart:
      repoURL: https://trinodb.github.io/charts
      name: trino
      version: 0.19.0
    valuesFile: apps/values/trino/trino-ipc1-values.yaml
    syncPolicy:
      automated:
        prune: true
        selfHeal: true
        allowEmpty: false
      syncOptions:
        - CreateNamespace=true
        - ServerSideApply=true
      retry:
        limit: 5
        backoff:
          duration: 5s
          factor: 2
          maxDuration: 3m
  
  vault:
    enabled: true
    namespace: vault
    chart:
      repoURL: https://helm.releases.hashicorp.com
      name: vault
      version: 0.28.0
    valuesFile: apps/values/vault/trino-ipc1-values.yaml
    syncPolicy:
      automated:
        prune: true
        selfHeal: true
        allowEmpty: false
      syncOptions:
        - CreateNamespace=true
        - ServerSideApply=true
      retry:
        limit: 5
        backoff:
          duration: 5s
          factor: 2
          maxDuration: 3m
    ignoreDifferences:
      - group: admissionregistration.k8s.io
        kind: MutatingWebhookConfiguration
        jqPathExpressions:
          - '.webhooks[]?.clientConfig.caBundle'

# Git repository for values files
valuesRepo:
  url: https://github.com/your-org/your-repo.git
  targetRevision: HEAD

# Made with Bob